# Definition of Done (완료 기준)

## 🔒 핵심 원칙

### 원칙 1: 테스트 우선
```
✅ 모든 기능은 100% 테스트 완료 후 다음 단계로 진행
❌ 테스트 없이 다음 기능 개발 금지
```

### 원칙 2: 단계별 검증
```
각 Phase는 반드시 Acceptance Criteria를 모두 충족해야 다음 Phase 시작 가능
```

## ✅ 전체 작업의 Definition of Done

모든 작업은 다음을 만족해야 "완료"로 간주됩니다:

### 1. 코드 품질
- [ ] 코드 작성 및 동작
- [ ] 린트 에러 없음
- [ ] 코딩 컨벤션 준수

### 2. 테스트 (필수)
- [ ] **유닛 테스트 작성 및 100% 통과**
- [ ] **통합 테스트 작성 및 통과** (API 엔드포인트의 경우)
- [ ] 엣지 케이스 및 에러 핸들링 테스트 포함

### 3. 문서화
- [ ] 코드 주석 작성 (복잡한 로직)
- [ ] API 변경 시 API_SPECIFICATION.md 업데이트
- [ ] DB 변경 시 DATABASE_SCHEMA.md 업데이트

### 4. 검증
- [ ] 로컬 환경에서 정상 동작 확인
- [ ] 브라우저 테스트 (프론트엔드)
- [ ] 성능 저하 없음 확인

## 🔴 Phase별 Definition of Done

### ✅ Phase 1: Backend Core - 완료
- ✅ FastAPI 서버, 데이터베이스 연결, API 엔드포인트 5개
- ✅ 61개 테스트 100% 통과, 커버리지 82%

### ✅ Phase 2: Data Collection - 완료
- ✅ 6개 종목 모두 데이터 수집 성공
- ✅ 투자자별 매매 동향, 뉴스 스크래핑
- ✅ 196개 테스트 100% 통과, 커버리지 89%

### ✅ Phase 3: Frontend Foundation - 완료
- ✅ React 앱, Dashboard, API 연동
- ✅ 반응형 디자인

### ✅ Phase 4: Charts & Visualization - 완료
- ✅ 가격/매매 동향 차트, 날짜 범위 선택
- ✅ 반응형 차트

### Phase 5: Detail & Comparison Pages
**필수 조건:**
- [ ] Detail 페이지 강화 (일별 데이터 테이블, 통계)
- [ ] Comparison 페이지 완성
- [ ] **모든 테스트 100% 통과**
- [ ] 테스트 커버리지 70% 이상 유지

### Phase 7: Optimization & Deployment
**프로덕션 배포 전 필수 조건:**
- [ ] 전체 통합 테스트 재실행
- [ ] 성능 테스트 (API < 1초, 프론트 < 3초)
- [ ] 보안 테스트 (SQL Injection, XSS, CSRF)
- [ ] **모든 테스트 통과율 100%**

## 🧪 테스트 정책

### 테스트 커버리지 목표
- **백엔드**: 최소 80% 코드 커버리지
- **프론트엔드**: 최소 70% 코드 커버리지
- **Critical Path**: 100% 커버리지

### 테스트 실행 시점
1. **개발 중**: 기능 구현 후 즉시 테스트 작성 및 실행
2. **커밋 전**: 모든 테스트 통과 확인
3. **배포 전**: 통합 테스트 + E2E 테스트

## 🚫 진행 불가 사례
- ❌ 테스트 미작성 또는 실패 → ✅ 모든 테스트 100% 통과 필수
- ❌ 문서화 누락 → ✅ 코드와 문서 동시 작성
- ❌ Acceptance Criteria 미충족 → ✅ 모든 기준 충족 필수
