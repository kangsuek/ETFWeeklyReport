# ë¶ˆí•„ìš”í•œ ì½”ë“œ ë° íŒŒì¼ ë¶„ì„ (Unnecessary Code Analysis)

**ë¶„ì„ ì¼ì**: 2026-01-10

---

## ğŸ“‹ ìš”ì•½

ì „ì²´ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•œ ê²°ê³¼, ë‹¤ìŒê³¼ ê°™ì€ ë¶ˆí•„ìš”í•˜ê±°ë‚˜ ì •ë¦¬ê°€ í•„ìš”í•œ í•­ëª©ë“¤ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”´ ì¦‰ì‹œ ì œê±° ê°€ëŠ¥ (Safe to Delete) âœ… ì™„ë£Œ

### 1. **Poetry ì„¤ì • íŒŒì¼ (ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)** âœ… ì‚­ì œë¨

**íŒŒì¼**: `backend/pyproject.toml`

**ë¬¸ì œì **:
- Poetry íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • íŒŒì¼ì´ì§€ë§Œ, í”„ë¡œì íŠ¸ëŠ” `pip`ê³¼ `requirements.txt` ì‚¬ìš©
- `[tool.poetry.dependencies]`ì— ì˜ì¡´ì„±ì´ ë¹„ì–´ìˆìŒ (ì‹¤ì œë¡œëŠ” `requirements.txt` ì‚¬ìš©)
- í˜¼ë€ë§Œ ì´ˆë˜í•¨

**ì¡°ì¹˜ ì™„ë£Œ** (2026-01-10):
```bash
# âœ… ì‚­ì œ ì™„ë£Œ
# ë°±ì—…: archive/pyproject.toml
```

---

### 2. **í…ŒìŠ¤íŠ¸ìš© ì„ì‹œ ìŠ¤í¬ë¦½íŠ¸**

#### A. `backend/test_batch.py` âœ… ì‚­ì œë¨

**íŒŒì¼ ë‚´ìš©**:
```python
#!/usr/bin/env python3
"""ë°°ì¹˜ API í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸"""
from datetime import date, timedelta
from app.services.data_collector import ETFDataCollector

# ë‹¨ìˆœ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
```

**ë¬¸ì œì **:
- ì¼íšŒì„± í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
- pytest í…ŒìŠ¤íŠ¸ íŒŒì¼ê³¼ ì¤‘ë³µ
- í”„ë¡œë•ì…˜ì— ë¶ˆí•„ìš”

**ì¡°ì¹˜ ì™„ë£Œ** (2026-01-10):
```bash
# âœ… ì‚­ì œ ì™„ë£Œ
# ë°±ì—…: archive/test_batch.py
```

---

#### B. `backend/backfill_data.py` âœ… ì‚­ì œë¨

**íŒŒì¼ ë‚´ìš©**:
```python
#!/usr/bin/env python3
"""ë°ì´í„° ë°±í•„ ìŠ¤í¬ë¦½íŠ¸"""
# 30ì¼ì¹˜ ë°ì´í„° ë°±í•„
```

**ë¬¸ì œì **:
- ê¸°ëŠ¥ì´ API ì—”ë“œí¬ì¸íŠ¸ë¡œ êµ¬í˜„ë¨: `POST /api/data/backfill`
- ì¤‘ë³µ ê¸°ëŠ¥
- scripts ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ê±°ë‚˜ ì œê±° ê¶Œì¥

**ì¡°ì¹˜ ì™„ë£Œ** (2026-01-10):
```bash
# âœ… ì‚­ì œ ì™„ë£Œ
# ë°±ì—…: archive/backfill_data.py
# API ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš© ê¶Œì¥: POST /api/data/backfill
```

---

### 3. **ì¼íšŒì„±/ë ˆê±°ì‹œ ìŠ¤í¬ë¦½íŠ¸**

#### `backend/scripts/collect_missing_data.py`

**ë¬¸ì œì **:
- íŠ¹ì • ì‹œì ì˜ ëˆ„ë½ ë°ì´í„° ìˆ˜ì§‘ìš© (í•˜ë“œì½”ë”©ëœ í‹°ì»¤ ëª©ë¡)
- ì¼íšŒì„± ì‘ì—…
- ì§€ê¸ˆì€ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ìë™ ìˆ˜ì§‘

**ì½”ë“œ ì˜ˆì‹œ** (35-40ì¤„):
```python
tickers_to_collect = {
    '466920': {'price': True, 'trading': True, 'news': False},
    '034020': {'price': True, 'trading': True, 'news': False},
    # ... í•˜ë“œì½”ë”©ëœ ì¢…ëª© ë¦¬ìŠ¤íŠ¸
}
```

**ê¶Œì¥ ì¡°ì¹˜**:
- âœ… ë³´ê´€ (í–¥í›„ ë°ì´í„° ëˆ„ë½ ì‹œ ì¬ì‚¬ìš© ê°€ëŠ¥)
- ë‹¨, ì£¼ì„ì— "ì¼íšŒì„± ìŠ¤í¬ë¦½íŠ¸" ëª…ì‹œ

---

## ğŸŸ¡ ê²€í†  í•„ìš” (Review Required)

### 4. **êµ¬í˜„ë˜ì§€ ì•Šì€ API ì—”ë“œí¬ì¸íŠ¸**

#### `backend/app/routers/reports.py`

**íŒŒì¼ ì „ì²´**:
```python
@router.post("/generate", deprecated=True)
async def generate_report(tickers: List[str], format: str = "markdown"):
    """
    âš ï¸ **Status: Coming Soon**
    """
    raise HTTPException(status_code=501, detail="...")
```

**ë¬¸ì œì **:
- ì „ì²´ ì—”ë“œí¬ì¸íŠ¸ê°€ ë¯¸êµ¬í˜„ (501 ì—ëŸ¬ ë°˜í™˜)
- ë¼ìš°í„° ìì²´ëŠ” ë“±ë¡ë˜ì–´ ìˆìŒ

**ê¶Œì¥ ì¡°ì¹˜**:

**ì˜µì…˜ 1 - ë³´ê´€** (í–¥í›„ êµ¬í˜„ ê³„íš ìˆìŒ):
```python
# í˜„ì¬ ìƒíƒœ ìœ ì§€ (deprecated=True ìœ ì§€)
# API ë¬¸ì„œì— "Coming Soon" í‘œì‹œ
```

**ì˜µì…˜ 2 - ì œê±°** (êµ¬í˜„ ê³„íš ì—†ìŒ):
```bash
# íŒŒì¼ ì‚­ì œ
rm backend/app/routers/reports.py

# main.pyì—ì„œ ë¼ìš°í„° ì œê±°
# app/main.py:74
# app.include_router(reports.router, ...)  # ì´ ì¤„ ì‚­ì œ
```

**ê¶Œì¥**: ì˜µì…˜ 1 (ë³´ê´€) - API ë¬¸ì„œì— í‘œì‹œë˜ì–´ í–¥í›„ ê¸°ëŠ¥ ê³„íšì„ ì•Œë¦¼

---

### 5. **ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸ (ì‚¬ìš© ë¹ˆë„ ë‚®ìŒ)**

#### `backend/scripts/query_database.py`
#### `backend/scripts/query_database.sh`

**ìš©ë„**: ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ ì¿¼ë¦¬ (ê°œë°œ/ë””ë²„ê¹…ìš©)

**ê¶Œì¥ ì¡°ì¹˜**:
- âœ… ë³´ê´€ (ê°œë°œ ë„êµ¬ë¡œ ìœ ìš©)
- READMEì— ì‚¬ìš©ë²• ë¬¸ì„œí™”

---

#### `backend/scripts/validate_data_quality.py` (502ì¤„)

**ìš©ë„**: ë°ì´í„° í’ˆì§ˆ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

**ì¥ì **:
- ë°ì´í„° ì¤‘ë³µ, NULL ê°’, ì´ìƒì¹˜ íƒì§€
- ë§¤ìš° ìœ ìš©í•œ ë„êµ¬

**ê¶Œì¥ ì¡°ì¹˜**:
- âœ… **ë³´ê´€ í•„ìˆ˜**
- ì •ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ ê¶Œì¥
- í¬ë¡ ì¡ì´ë‚˜ GitHub Actionsë¡œ ìë™í™” ê³ ë ¤

---

#### `backend/scripts/test_ticker_catalog_api.py`

**ìš©ë„**: í‹°ì»¤ ì¹´íƒˆë¡œê·¸ API í…ŒìŠ¤íŠ¸

**ê¶Œì¥ ì¡°ì¹˜**:
- ğŸŸ¡ pytestë¡œ ì´ë™ ê¶Œì¥
- ë˜ëŠ” ì‚­ì œ (API í…ŒìŠ¤íŠ¸ëŠ” pytestê°€ ì»¤ë²„)

---

## ğŸŸ¢ ë³´ê´€ ê¶Œì¥ (Keep)

### 6. **ìœ ìš©í•œ ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸**

ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ë“¤ì€ ìœ ìš©í•˜ë¯€ë¡œ ë³´ê´€:

- âœ… `backend/scripts/validate_data_quality.py` - ë°ì´í„° í’ˆì§ˆ ê²€ì¦
- âœ… `backend/scripts/query_database.py` - DB ì¿¼ë¦¬ ë„êµ¬
- âœ… `backend/scripts/query_database.sh` - ì‰˜ ë˜í¼

---

## ğŸ—‘ï¸ ì´ë¯¸ .gitignoreì— í¬í•¨ (Clean)

ë‹¤ìŒ í•­ëª©ë“¤ì€ ì´ë¯¸ .gitignoreì—ì„œ ì œì™¸ë˜ì–´ ê¹¨ë—í•¨:

- âœ… `*.pyc` - ì—†ìŒ
- âœ… `__pycache__/` - gitignore í¬í•¨
- âœ… `.DS_Store` - gitignore í¬í•¨
- âœ… `*.log` - gitignore í¬í•¨
- âœ… `node_modules/` - gitignore í¬í•¨

---

## ğŸ“ ì¤‘ë³µ ê¸°ëŠ¥ ê²€í† 

### 7. **API vs ìŠ¤í¬ë¦½íŠ¸ ì¤‘ë³µ**

| ê¸°ëŠ¥ | API ì—”ë“œí¬ì¸íŠ¸ | ìŠ¤í¬ë¦½íŠ¸ | ê¶Œì¥ ì¡°ì¹˜ |
|------|--------------|---------|----------|
| ë°ì´í„° ìˆ˜ì§‘ | `POST /api/data/collect-all` | - | âœ… API ì‚¬ìš© |
| ë°±í•„ | `POST /api/data/backfill` | `backfill_data.py` | ğŸ—‘ï¸ ìŠ¤í¬ë¦½íŠ¸ ì œê±° |
| ëˆ„ë½ ë°ì´í„° ìˆ˜ì§‘ | `POST /api/data/collect-all` | `collect_missing_data.py` | ğŸŸ¡ ë³´ê´€ (ì¼íšŒì„±) |

---

## ğŸ¯ ê¶Œì¥ ì¡°ì¹˜ ìš”ì•½

### ì¦‰ì‹œ ì œê±° ê°€ëŠ¥ (3ê°œ) âœ… ì™„ë£Œ (2026-01-10)

```bash
# âœ… ì‚­ì œ ì™„ë£Œ
# ë°±ì—… ìœ„ì¹˜: archive/
# - pyproject.toml (1.2KB)
# - test_batch.py (1.2KB)
# - backfill_data.py (616B)
```

ë³µêµ¬ê°€ í•„ìš”í•œ ê²½ìš°:
```bash
cp archive/íŒŒì¼ëª… backend/
```

### ê²€í†  í›„ ê²°ì • (2ê°œ)

```bash
# 4. reports.py - í–¥í›„ êµ¬í˜„ ê³„íš ìˆìœ¼ë©´ ë³´ê´€, ì—†ìœ¼ë©´ ì‚­ì œ
# rm app/routers/reports.py  # ì‚­ì œ ì‹œ
# main.pyì—ì„œ ë¼ìš°í„° ì œê±°ë„ í•„ìš”

# 5. test_ticker_catalog_api.py - pytestë¡œ ì´ë™ ë˜ëŠ” ì‚­ì œ
rm scripts/test_ticker_catalog_api.py
```

### ë³´ê´€ ê¶Œì¥ (3ê°œ)

```bash
# âœ… scripts/validate_data_quality.py - ìœ ìš©
# âœ… scripts/query_database.py - ê°œë°œ ë„êµ¬
# âœ… scripts/collect_missing_data.py - ì¼íšŒì„±ì´ì§€ë§Œ ìœ ìš©
```

---

## ğŸ“Š í†µê³„

| ì¹´í…Œê³ ë¦¬ | íŒŒì¼ ìˆ˜ | ì¡°ì¹˜ | ìƒíƒœ |
|---------|--------|------|------|
| **ì¦‰ì‹œ ì œê±°** | 3ê°œ | ğŸ—‘ï¸ ì‚­ì œ | âœ… ì™„ë£Œ |
| **ê²€í†  í•„ìš”** | 2ê°œ | ğŸŸ¡ ê²°ì • í•„ìš” | â³ ëŒ€ê¸° |
| **ë³´ê´€** | 3ê°œ | âœ… ìœ ì§€ | âœ… ì™„ë£Œ |
| **ì´ê³„** | 8ê°œ | - | - |

**ì‹¤ì œ íš¨ê³¼** (2026-01-10):
- âœ… ì½”ë“œë² ì´ìŠ¤ ê°„ì†Œí™” ì™„ë£Œ
- âœ… í˜¼ë€ ê°ì†Œ (pyproject.toml ì œê±°)
- âœ… ì¤‘ë³µ ê¸°ëŠ¥ ì œê±°
- âœ… ì ˆê°ëœ ê³µê°„: ~3KB
- âœ… ë°±ì—… ìƒì„±: archive/ (12KB)

---

## ğŸ” ì¶”ê°€ ë°œê²¬ ì‚¬í•­

### ì½”ë“œ ìŠ¤íƒ€ì¼

ëª¨ë“  Python íŒŒì¼ì—ì„œ ë‹¤ìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤:

- âœ… TODO/FIXME ì£¼ì„: **ì—†ìŒ** (ë§¤ìš° ì¢‹ìŒ!)
- âœ… ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œ ë¸”ë¡: ìµœì†Œí•œ
- âœ… ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” import: ê±°ì˜ ì—†ìŒ

**ê²°ë¡ **: ì½”ë“œ í’ˆì§ˆì´ ë§¤ìš° ìš°ìˆ˜í•©ë‹ˆë‹¤!

---

## ğŸ’¡ ì¥ê¸° ê°œì„  ì œì•ˆ

### 1. **Poetry ë„ì… ê²€í† **

í˜„ì¬ `pyproject.toml`ì´ ìˆì§€ë§Œ ì‚¬ìš© ì•ˆ í•¨.

**ì˜µì…˜ A - Poetry ë„ì…**:
```bash
# requirements.txt â†’ pyproject.toml ë§ˆì´ê·¸ë ˆì´ì…˜
poetry init
poetry add $(cat requirements.txt | grep -v '^#')
```

**ì˜µì…˜ B - pyproject.toml ì‚­ì œ** (ê¶Œì¥):
```bash
rm backend/pyproject.toml
```

---

### 2. **ìŠ¤í¬ë¦½íŠ¸ ë””ë ‰í† ë¦¬ ì •ë¦¬**

```bash
backend/scripts/
â”œâ”€â”€ collection/          # ë°ì´í„° ìˆ˜ì§‘ ê´€ë ¨
â”‚   â””â”€â”€ collect_missing_data.py
â”œâ”€â”€ maintenance/         # ìœ ì§€ë³´ìˆ˜ ë„êµ¬
â”‚   â”œâ”€â”€ validate_data_quality.py
â”‚   â””â”€â”€ query_database.py
â””â”€â”€ testing/            # í…ŒìŠ¤íŠ¸ ë„êµ¬
    â””â”€â”€ test_ticker_catalog_api.py (ë˜ëŠ” ì‚­ì œ)
```

---

## ğŸ¬ ì‹¤í–‰ ê³„íš

### Phase 1: ì•ˆì „í•œ ì œê±° (ì¦‰ì‹œ)

```bash
cd backend

# ë°±ì—… (ì„ íƒì‚¬í•­)
mkdir -p ../archive
mv pyproject.toml test_batch.py backfill_data.py ../archive/

# ë˜ëŠ” ë°”ë¡œ ì‚­ì œ
rm pyproject.toml test_batch.py backfill_data.py
```

### Phase 2: ê²€í†  ë° ê²°ì • (1ì£¼ ë‚´)

1. `reports.py` - íŒ€ê³¼ ë…¼ì˜ í›„ ê²°ì •
2. `test_ticker_catalog_api.py` - pytestë¡œ ì´ë™ ë˜ëŠ” ì‚­ì œ

### Phase 3: ë¬¸ì„œí™” (1ì£¼ ë‚´)

```markdown
# backend/scripts/README.md ìƒì„±

## ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸

### ë°ì´í„° í’ˆì§ˆ ê²€ì¦
- `validate_data_quality.py`: ë°ì´í„° ì¤‘ë³µ, ì´ìƒì¹˜ íƒì§€

### ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
- `query_database.py`: ì§ì ‘ SQL ì¿¼ë¦¬ ì‹¤í–‰

### ì¼íšŒì„± ì‘ì—…
- `collect_missing_data.py`: íŠ¹ì • ì¢…ëª© ë°ì´í„° ì¬ìˆ˜ì§‘
```

---

## âœ… ê²°ë¡ 

**ì „ë°˜ì ì¸ ì½”ë“œ ìƒíƒœ**: ğŸŸ¢ **ë§¤ìš° ê¹¨ë—í•¨**

- ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ë§¤ìš° ì ìŒ
- TODO/FIXME ì£¼ì„ ì—†ìŒ
- ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œ ìµœì†Œí•œ
- .gitignore ì˜ ì„¤ì •ë¨

**ì œê±° ê¶Œì¥**: 3ê°œ íŒŒì¼ (~200 ë¼ì¸)
**ê²€í†  í•„ìš”**: 2ê°œ íŒŒì¼
**ë³´ê´€ ê¶Œì¥**: ë‚˜ë¨¸ì§€ ì „ë¶€

---

**ë¶„ì„ ì™„ë£Œ ì¼ì‹œ**: 2026-01-10
